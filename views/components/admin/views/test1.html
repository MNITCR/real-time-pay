<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../../../../js/jquery.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
      integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>

  <style>
    .styled-image {
      --s: 50px; /* the size on the corner */
      --t: 5px; /* the thickness of the border */
      --g: 20px; /* the gap between the border and image */

      padding: calc(var(--g) + var(--t));
      outline: var(--t) solid gray; /* the color here */
      outline-offset: calc(-1 * var(--t));
      mask: conic-gradient(at var(--s) var(--s), #0000 75%, #000 0) 0 0 /
          calc(100% - var(--s)) calc(100% - var(--s)),
        linear-gradient(#000 0 0) content-box;
      transition: 0.4s;
    }
    .styled-image:hover {
      outline-offset: calc(var(--g) / -1);
    }
  </style>

  <body>
    <div
      id="qrDollar-modal"
      class="relative sm:mx-auto sm:w-full sm:max-w-sm lg:max-w-sm"
    >
      <!-- Modal content -->
      <div class="relative bg-gray-700 dark:bg-gray-700 overflow-hidden">
        <div class="px-0 py-0 lg:px-0">
          <div class="sm:mx-auto sm:w-full sm:max-w-sm lg:max-w-xl">
            <div class="bg-cyan-800 p-[10px]"></div>

            <div class="bg-gray-600 relative">
              <div
                class="absolute h-8 top-[-12px]"
                style="
                  border-right: 20px solid transparent;
                  border-bottom: 20px solid transparent;
                  border-left: 20px solid rgb(21 94 117);
                "
              ></div>
            </div>

            <div class="bg-white p-4">
              <p class="text-center text-3xl mt-3" style="letter-spacing: 2px">
                <span class="text-cyan-800 font-bold">MNIT</span
                ><span class="text-red-600 font-bold">'</span
                ><span class="text-cyan-600 font-bold">PAY</span>
              </p>
              <p class="font-medium text-md text-center mt-4 mb-4">
                Scan. Pay. Done.
              </p>

              <img
                id="modalImage"
                src="../../../../asset/uploads/ElonMusk.jpg"
                alt=""
                class="styled-image h-[200px] m-auto"
                style="
                  --s: 50px;
                  --t: 5px;
                  --g: 20px;
                  padding: calc(var(--g) + var(--t));
                  outline: var(--t) solid gray;
                  outline-offset: calc(-1 * var(--t));
                  mask: conic-gradient(at var(--s) var(--s), #0000 75%, #000 0)
                      0 0 / calc(100% - var(--s)) calc(100% - var(--s)),
                    linear-gradient(#000 0 0) content-box;
                  transition: 0.4s;
                "
              />

              <h2 class="text-center text-lg font-medium mt-4 uppercase">
                Elon Musk
              </h2>
              <p class="text-[10px] mt-10">Member of</p>
              <h3 class="text-red-600 font-bold">KHQR</h3>
            </div>

            <div class="bg-cyan-800 p-[10px]"></div>

            <div
              class="bg-red-600 absolute p-9 rounded-[30px] right-[-60px] bottom-[-110px]"
              style="transform: rotate(20deg)"
            >
              <div class="bg-white p-6 rounded-[20px]">
                <div class="bg-red-600 p-8 rounded-[10px]"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Add an ID to the download button -->
    <button id="downloadButton" type="button">Download</button>

    <script>
        document.getElementById('downloadButton').addEventListener('click', function() {
            // Capture the content of qrDollar-modal
            html2canvas(document.getElementById('qrDollar-modal')).then(function(canvas) {
              // Convert the canvas to image data
              var imageData = canvas.toDataURL('image/png');

              // Create a temporary link element
              var link = document.createElement('a');
              link.href = imageData;
              link.download = 'qrDollar-modal.png'; // Set the filename for download
              document.body.appendChild(link);

              // Delay the download to ensure HTML2Canvas finishes rendering
              setTimeout(function() {
                // Trigger the download
                link.click();

                // Clean up
                document.body.removeChild(link);
              }, 100); // Adjust the delay time as needed
            });
          });

    </script>
  </body>
</html>
