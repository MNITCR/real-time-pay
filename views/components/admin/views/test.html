<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../../../../js/jquery.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script> -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
      integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>JavaScript Camera</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css"
    />
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"
    ></script>
  </head>

  <style>
    img {
      border-right: 2px;
    }
  </style>

  <body>
    <div
      id=""
      tabindex="-1"
      aria-hidden="true"
      class="fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"
    >
      <div
        id="downlaod-qrcode-modal"
        class="relative sm:mx-auto sm:w-full sm:max-w-sm lg:max-w-sm"
      >
        <!-- Modal content -->
        <div class="relative bg-gray-700 dark:bg-gray-700 overflow-hidden">
          <div class="px-0 py-0 lg:px-0">
            <div class="sm:mx-auto sm:w-full sm:max-w-sm lg:max-w-xl">
              <div
                class="bg-cyan-800 rounded-tl-[5px] rounded-tr-[5px] p-[10px]"
              ></div>

              <div
                class="bg-gray-600 rounded-bl-[10px] rounded-br-[10px] relative"
              >
                <div
                  class="absolute h-8 top-[-12px]"
                  style="
                    border-right: 20px solid transparent;
                    border-bottom: 20px solid transparent;
                    border-left: 20px solid rgb(21 94 117);
                  "
                ></div>
              </div>

              <div class="bg-white p-4">
                <p
                  class="text-center text-3xl mt-3"
                  style="letter-spacing: 2px"
                >
                  <span class="text-cyan-800 font-bold">MNIT</span
                  ><span class="text-red-600 font-bold">'</span
                  ><span class="text-cyan-600 font-bold">PAY</span>
                </p>
                <p class="font-medium text-md text-center mt-4 mb-4">
                  Scan. Pay. Done.
                </p>

                <div class="corner">
                  <img
                    src="../../../../asset/uploads/ElonMusk.jpg"
                    alt=""
                    class="h-[200px] m-auto"
                  />
                </div>

                <h2 class="text-center text-lg font-medium mt-4 uppercase">
                  Elon Musk
                </h2>
                <p class="text-[10px] mt-10">Member of</p>
                <h3 class="text-red-600 font-bold">KHQR</h3>
              </div>

              <div
                class="bg-cyan-800 rounded-bl-[5px] rounded-br-[5px] p-[10px]"
              ></div>

              <div
                class="bg-red-600 absolute p-9 rounded-[30px] right-[-60px] bottom-[-110px]"
                style="transform: rotate(20deg)"
              >
                <div class="bg-white p-6 rounded-[20px]">
                  <div class="bg-red-600 p-8 rounded-[10px]"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button id="downloadButton" type="button">Download</button>

      <script>
        // Function to download the content of qrDollar-modal as PNG
        function downloadContentAsPNG() {
          // Select the modal content
          const modalContent = document.getElementById("qrDollar-modal");

          // Use html2canvas to capture the modal content as an image
          html2canvas(modalContent).then((canvas) => {
            // Get the canvas context
            const ctx = canvas.getContext("2d");

            // Draw border corners onto the canvas
            const cornerSize = 50; // Adjust as needed
            const cornerColor = "#000"; // Adjust as needed
            ctx.fillStyle = cornerColor;
            ctx.fillRect(0, 0, cornerSize, cornerSize);
            ctx.fillRect(canvas.width - cornerSize, 0, cornerSize, cornerSize);
            ctx.fillRect(0, canvas.height - cornerSize, cornerSize, cornerSize);
            ctx.fillRect(
              canvas.width - cornerSize,
              canvas.height - cornerSize,
              cornerSize,
              cornerSize
            );

            // Convert the canvas to a data URL representing a PNG image
            const dataURL = canvas.toDataURL("image/png");

            // Create a temporary link element
            const link = document.createElement("a");
            link.href = dataURL;
            link.download = "qrDollar-modal-content.png";

            // Append the link to the body and trigger the click event
            document.body.appendChild(link);
            link.click();

            // Remove the link from the body
            document.body.removeChild(link);
          });
        }
      </script>
    </div>
  </body>
</html>
